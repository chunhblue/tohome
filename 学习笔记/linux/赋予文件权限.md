https://www.cnblogs.com/cwwmmv/p/10535175.html

## chmod 命令

 命令有两种用法。一种是包含字母和操作符表达式的文字设定法；另一种是包含数字的数字设定法。 

### 1 文字设定法：

```
chmod ［who］ ［+ | – | =］ ［mode］ 文件名¼ 
```

命令中各选项的含义为：

操作对象who可是下述字母中的任一个或者它们的组合：

- u 表示“用户（user）”，即文件或目录的所有者。
- g 表示“同组（group）用户”，即与文件属主有相同组ID的所有用户。
- o 表示“其他（others）用户”。
- a 表示“所有（all）用户”。它是系统默认值。

操作符号可以是：

- \+ 添加某个权限。
- – 取消某个权限。
- = 赋予给定权限并取消其他所有权限（如果有的话）。
- 设置mode所表示的权限可用下述字母的任意组合：
- r 可读。
- w 可写。
- x 可执行。
- X 只有目标文件对某些用户是可执行的或该目标文件是目录时才追加x 属性。
- s 在文件执行时把进程的属主或组ID置为该文件的文件属主。方式“u＋s”设置文件的用户ID位，“g＋s”设置组ID位。
- t 保存程序的文本到交换设备上。
- u 与文件属主拥有一样的权限。
- g 与和文件属主同组的用户拥有一样的权限。
- o 与其他用户拥有一样的权限。
- -c : 若该档案权限确实已经更改，才显示其更改动作
- -f : 若该档案权限无法被更改也不要显示错误讯息
- -v : 显示权限变更的详细资料
- -R : 对目前目录下的所有档案与子目录进行相同的权限变更(即以递回的方式逐个变更)
- –help : 显示辅助说明
- –version : 显示版本

文件名：以空格分开的要改变权限的文件列表，支持通配符。在一个命令行中可给出多个权限方式，其间用逗号隔开。例如：chmod g+r，o+r example使同组和其他用户对文件example 有读权限。

**例1：**

1. $ chmod a+x sort

即设定文件sort的属性为：

文件属主（u） 增加执行权限

与文件属主同组用户（g） 增加执行权限

其他用户（o） 增加执行权限

### 2. 数字设定法

我们必须首先了解用数字表示的属性的含义：0表示没有权限，1表示可执行权限，2表示可写权限，4表示可读权限，然后将其相加。所以数字属性的格式应为3个从0到7的八进制数，其顺序是（u）（g）（o）。

例如，如果想让某个文件的属主有“读/写”二种权限，需要把4（可读）+2（可写）＝6（读/写）。

数字设定法的一般形式为：chmod ［mode］ 文件名¼

**例1：**

1. $ chmod 644 mm.txt
2. $ ls –l

即设定文件mm.txt的属性为：

1. -rw-r--r-- 1 inin users 1155 Nov 5 11:22 mm.txt

文件属主（u）inin 拥有读、写权限

与文件属主同组人用户（g） 拥有读权限

其他人（o） 拥有读权限

## [chgrp](http://yusi123.com/tag/chgrp)命令

功能：改变文件或目录所属的组。

语法：[chgrp](http://yusi123.com/tag/chgrp) ［选项］ group filename¼

参数：

- -c或–changes 效果类似”-v”参数，但仅回报更改的部分。
- -f或–quiet或–silent 　不显示错误信息。
- -h或–no-dereference 　只对符号连接的文件作修改，而不更动其他任何相关文件。
- -R或–recursive 　递归处理，将指定目录下的所有文件及子目录一并处理。
- -v或–verbose 　显示指令执行过程。
- –help 　在线帮助。
- –reference=&lt;参考文件或目录&gt; 　把指定文件或目录的所属群组全部设成和参考文件或目录的所属群组相同。
- –version 　显示版本信息。

该命令改变指定指定文件所属的用户组。其中group可以是用户组ID，也可以是/etc/group文件中用户组的组名。文件名是以空格分开的要改变属组的文件列表，支持通配符。如果用户不是该文件的属主或超级用户，则不能改变该文件的组。

该命令的各选项含义为：

– R 递归式地改变指定目录及其下的所有子目录和文件的属组。

**例1：**

1. $ [chgrp](http://yusi123.com/tag/chgrp) - R book /opt/local /book

改变/opt/local /book/及其子目录下的所有文件的属组为book。

## [chown](http://yusi123.com/tag/chown) 命令

功能：更改某个文件或目录的属主和属组。这个命令也很常用。例如root用户把自己的一个文件拷贝给用户yusi，为了让用户yusi能够存取这个文件，root用户应该把这个文件的属主设为yusi，否则，用户yusi无法存取这个文件。

语法：[chown](http://yusi123.com/tag/chown) ［选项］ 用户或组 文件

说明：[chown](http://yusi123.com/tag/chown)将指定文件的拥有者改为指定的用户或组。用户可以是用户名或用户ID。组可以是组名或组ID。文件是以空格分开的要改变权限的文件列表，支持通配符。

**参数说明：**

- user : 新的档案拥有者的使用者 ID
- group : 新的档案拥有者的使用者群体(group)
- -c : 若该档案拥有者确实已经更改，才显示其更改动作
- -f : 若该档案拥有者无法被更改也不要显示错误讯息
- -h : 只对于连结(link)进行变更，而非该 link 真正指向的档案
- -v : 显示拥有者变更的详细资料
- -R : 对目前目录下的所有档案与子目录进行相同的拥有者变更(即以递回的方式逐个变更)
- –help : 显示辅助说明
- –version : 显示版本

例1：把文件yusi123.com的所有者改为yusi。

1. $ [chown](http://yusi123.com/tag/chown) yusi yusi123.com

例2：把目录/demo及其下的所有文件和子目录的属主改成yusi，属组改成users。

1. $ chown - R yusi.users /demo

例如：chown qq /home/qq  (把home目录下的qq目录的拥有者改为qq用户)

例如：chown -R qq /home/qq  (把home目录下的qq目录下的所有子文件的拥有者改为qq用户)